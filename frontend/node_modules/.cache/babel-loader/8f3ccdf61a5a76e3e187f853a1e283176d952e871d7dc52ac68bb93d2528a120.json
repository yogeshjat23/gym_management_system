{"ast":null,"code":"import { transformSelectionToRowDistance } from \"../../../selection/utils.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'remove_row';\n\n/**\n * @returns {object}\n */\nexport default function removeRowItem() {\n  return {\n    key: KEY,\n    name() {\n      const selection = this.getSelected();\n      let pluralForm = 0;\n      if (selection) {\n        if (selection.length > 1) {\n          pluralForm = 1;\n        } else {\n          const [fromRow,, toRow] = selection[0];\n          if (fromRow - toRow !== 0) {\n            pluralForm = 1;\n          }\n        }\n      }\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_REMOVE_ROW, pluralForm);\n    },\n    callback() {\n      // TODO: Please keep in mind that below `1` may be improper. The table's way of work, before change `f1747b3912ea3b21fe423fd102ca94c87db81379` was restored.\n      // There is still problem when removing more than one row.\n      this.alter('remove_row', transformSelectionToRowDistance(this), 1, 'ContextMenu.removeRow');\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.row < 0) {\n        return true;\n      }\n      const totalRows = this.countRows();\n      if (this.selection.isSelectedByCorner()) {\n        // Enable \"Remove row\" only when there is at least one row.\n        return totalRows === 0;\n      }\n      return this.selection.isSelectedByColumnHeader() || totalRows === 0;\n    },\n    hidden() {\n      return !this.getSettings().allowRemoveRow;\n    }\n  };\n}","map":{"version":3,"names":["transformSelectionToRowDistance","C","KEY","removeRowItem","key","name","selection","getSelected","pluralForm","length","fromRow","toRow","getTranslatedPhrase","CONTEXTMENU_ITEMS_REMOVE_ROW","callback","alter","disabled","range","getSelectedRangeLast","isSingleHeader","highlight","row","totalRows","countRows","isSelectedByCorner","isSelectedByColumnHeader","hidden","getSettings","allowRemoveRow"],"sources":["D:/gym-project/frontend/node_modules/handsontable/plugins/contextMenu/predefinedItems/removeRow.mjs"],"sourcesContent":["import { transformSelectionToRowDistance } from \"../../../selection/utils.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'remove_row';\n\n/**\n * @returns {object}\n */\nexport default function removeRowItem() {\n  return {\n    key: KEY,\n    name() {\n      const selection = this.getSelected();\n      let pluralForm = 0;\n      if (selection) {\n        if (selection.length > 1) {\n          pluralForm = 1;\n        } else {\n          const [fromRow,, toRow] = selection[0];\n          if (fromRow - toRow !== 0) {\n            pluralForm = 1;\n          }\n        }\n      }\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_REMOVE_ROW, pluralForm);\n    },\n    callback() {\n      // TODO: Please keep in mind that below `1` may be improper. The table's way of work, before change `f1747b3912ea3b21fe423fd102ca94c87db81379` was restored.\n      // There is still problem when removing more than one row.\n      this.alter('remove_row', transformSelectionToRowDistance(this), 1, 'ContextMenu.removeRow');\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.row < 0) {\n        return true;\n      }\n      const totalRows = this.countRows();\n      if (this.selection.isSelectedByCorner()) {\n        // Enable \"Remove row\" only when there is at least one row.\n        return totalRows === 0;\n      }\n      return this.selection.isSelectedByColumnHeader() || totalRows === 0;\n    },\n    hidden() {\n      return !this.getSettings().allowRemoveRow;\n    }\n  };\n}"],"mappings":"AAAA,SAASA,+BAA+B,QAAQ,8BAA8B;AAC9E,OAAO,KAAKC,CAAC,MAAM,6BAA6B;AAChD,OAAO,MAAMC,GAAG,GAAG,YAAY;;AAE/B;AACA;AACA;AACA,eAAe,SAASC,aAAaA,CAAA,EAAG;EACtC,OAAO;IACLC,GAAG,EAAEF,GAAG;IACRG,IAAIA,CAAA,EAAG;MACL,MAAMC,SAAS,GAAG,IAAI,CAACC,WAAW,CAAC,CAAC;MACpC,IAAIC,UAAU,GAAG,CAAC;MAClB,IAAIF,SAAS,EAAE;QACb,IAAIA,SAAS,CAACG,MAAM,GAAG,CAAC,EAAE;UACxBD,UAAU,GAAG,CAAC;QAChB,CAAC,MAAM;UACL,MAAM,CAACE,OAAO,GAAGC,KAAK,CAAC,GAAGL,SAAS,CAAC,CAAC,CAAC;UACtC,IAAII,OAAO,GAAGC,KAAK,KAAK,CAAC,EAAE;YACzBH,UAAU,GAAG,CAAC;UAChB;QACF;MACF;MACA,OAAO,IAAI,CAACI,mBAAmB,CAACX,CAAC,CAACY,4BAA4B,EAAEL,UAAU,CAAC;IAC7E,CAAC;IACDM,QAAQA,CAAA,EAAG;MACT;MACA;MACA,IAAI,CAACC,KAAK,CAAC,YAAY,EAAEf,+BAA+B,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,uBAAuB,CAAC;IAC7F,CAAC;IACDgB,QAAQA,CAAA,EAAG;MACT,MAAMC,KAAK,GAAG,IAAI,CAACC,oBAAoB,CAAC,CAAC;MACzC,IAAI,CAACD,KAAK,EAAE;QACV,OAAO,IAAI;MACb;MACA,IAAIA,KAAK,CAACE,cAAc,CAAC,CAAC,IAAIF,KAAK,CAACG,SAAS,CAACC,GAAG,GAAG,CAAC,EAAE;QACrD,OAAO,IAAI;MACb;MACA,MAAMC,SAAS,GAAG,IAAI,CAACC,SAAS,CAAC,CAAC;MAClC,IAAI,IAAI,CAACjB,SAAS,CAACkB,kBAAkB,CAAC,CAAC,EAAE;QACvC;QACA,OAAOF,SAAS,KAAK,CAAC;MACxB;MACA,OAAO,IAAI,CAAChB,SAAS,CAACmB,wBAAwB,CAAC,CAAC,IAAIH,SAAS,KAAK,CAAC;IACrE,CAAC;IACDI,MAAMA,CAAA,EAAG;MACP,OAAO,CAAC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,cAAc;IAC3C;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}