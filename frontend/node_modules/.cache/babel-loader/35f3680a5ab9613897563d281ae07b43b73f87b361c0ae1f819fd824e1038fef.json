{"ast":null,"code":"import { isRightClick as isRightClickEvent, isLeftClick as isLeftClickEvent } from \"./../helpers/dom/event.mjs\";\n/**\n * MouseDown handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isShiftKey The flag which indicates if the shift key is pressed.\n * @param {boolean} options.isLeftClick The flag which indicates if the left mouse button is pressed.\n * @param {boolean} options.isRightClick The flag which indicates if the right mouse button is pressed.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n * @param {Function} options.cellCoordsFactory The function factory for CellCoords objects.\n */\nexport function mouseDown(_ref) {\n  let {\n    isShiftKey,\n    isLeftClick,\n    isRightClick,\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory\n  } = _ref;\n  const currentSelection = selection.isSelected() ? selection.getSelectedRange().current() : null;\n  const selectedCorner = selection.isSelectedByCorner();\n  const selectedRow = selection.isSelectedByRowHeader();\n  selection.markSource('mouse');\n  if (isShiftKey && currentSelection) {\n    if (coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(coords);\n    } else if ((selectedCorner || selectedRow) && coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(cellCoordsFactory(coords.row, coords.col));\n    } else if (selectedCorner && coords.row < 0 && !controller.column) {\n      selection.setRangeEnd(cellCoordsFactory(currentSelection.to.row, coords.col));\n    } else if (selectedRow && coords.col < 0 && !controller.row) {\n      selection.setRangeEnd(cellCoordsFactory(coords.row, currentSelection.to.col));\n    } else if ((!selectedCorner && !selectedRow && coords.col < 0 || selectedCorner && coords.col < 0) && !controller.row) {\n      selection.selectRows(Math.max(currentSelection.from.row, 0), coords.row, coords.col);\n    } else if ((!selectedCorner && !selectedRow && coords.row < 0 || selectedRow && coords.row < 0) && !controller.column) {\n      selection.selectColumns(Math.max(currentSelection.from.col, 0), coords.col, coords.row);\n    }\n  } else {\n    const allowRightClickSelection = !selection.inInSelection(coords);\n    const performSelection = isLeftClick || isRightClick && allowRightClickSelection;\n\n    // clicked row header and when some column was selected\n    if (coords.row < 0 && coords.col >= 0 && !controller.column) {\n      if (performSelection) {\n        selection.selectColumns(coords.col, coords.col, coords.row);\n      }\n\n      // clicked column header and when some row was selected\n    } else if (coords.col < 0 && coords.row >= 0 && !controller.row) {\n      if (performSelection) {\n        selection.selectRows(coords.row, coords.row, coords.col);\n      }\n    } else if (coords.col >= 0 && coords.row >= 0 && !controller.cell) {\n      if (performSelection) {\n        selection.setRangeStart(coords);\n      }\n    } else if (coords.col < 0 && coords.row < 0) {\n      selection.selectAll(true, true, {\n        disableHeadersHighlight: true,\n        focusPosition: {\n          row: 0,\n          col: 0\n        }\n      });\n    }\n  }\n  selection.markEndSource();\n}\n\n/**\n * MouseOver handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isLeftClick Indicates that event was fired using the left mouse button.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n * @param {Function} options.cellCoordsFactory The function factory for CellCoords objects.\n */\nexport function mouseOver(_ref2) {\n  let {\n    isLeftClick,\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory\n  } = _ref2;\n  if (!isLeftClick) {\n    return;\n  }\n  const selectedRow = selection.isSelectedByRowHeader();\n  const selectedColumn = selection.isSelectedByColumnHeader();\n  const countCols = selection.tableProps.countCols();\n  const countRows = selection.tableProps.countRows();\n  selection.markSource('mouse');\n  if (selectedColumn && !controller.column) {\n    selection.setRangeEnd(cellCoordsFactory(countRows - 1, coords.col));\n  } else if (selectedRow && !controller.row) {\n    selection.setRangeEnd(cellCoordsFactory(coords.row, countCols - 1));\n  } else if (!controller.cell) {\n    selection.setRangeEnd(coords);\n  }\n  selection.markEndSource();\n}\nconst handlers = new Map([['mousedown', mouseDown], ['mouseover', mouseOver], ['touchstart', mouseDown]]);\n\n/**\n * Mouse handler for selection functionality.\n *\n * @param {Event} event An native event to handle.\n * @param {object} options The handler options.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n * @param {Function} options.cellCoordsFactory The function factory for CellCoords objects.\n */\nexport function handleMouseEvent(event, _ref3) {\n  let {\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory\n  } = _ref3;\n  handlers.get(event.type)({\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory,\n    isShiftKey: event.shiftKey,\n    isLeftClick: isLeftClickEvent(event) || event.type === 'touchstart',\n    isRightClick: isRightClickEvent(event)\n  });\n}","map":{"version":3,"names":["isRightClick","isRightClickEvent","isLeftClick","isLeftClickEvent","mouseDown","_ref","isShiftKey","coords","selection","controller","cellCoordsFactory","currentSelection","isSelected","getSelectedRange","current","selectedCorner","isSelectedByCorner","selectedRow","isSelectedByRowHeader","markSource","row","col","cell","setRangeEnd","column","to","selectRows","Math","max","from","selectColumns","allowRightClickSelection","inInSelection","performSelection","setRangeStart","selectAll","disableHeadersHighlight","focusPosition","markEndSource","mouseOver","_ref2","selectedColumn","isSelectedByColumnHeader","countCols","tableProps","countRows","handlers","Map","handleMouseEvent","event","_ref3","get","type","shiftKey"],"sources":["D:/gym-project/frontend/node_modules/handsontable/selection/mouseEventHandler.mjs"],"sourcesContent":["import { isRightClick as isRightClickEvent, isLeftClick as isLeftClickEvent } from \"./../helpers/dom/event.mjs\";\n/**\n * MouseDown handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isShiftKey The flag which indicates if the shift key is pressed.\n * @param {boolean} options.isLeftClick The flag which indicates if the left mouse button is pressed.\n * @param {boolean} options.isRightClick The flag which indicates if the right mouse button is pressed.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n * @param {Function} options.cellCoordsFactory The function factory for CellCoords objects.\n */\nexport function mouseDown(_ref) {\n  let {\n    isShiftKey,\n    isLeftClick,\n    isRightClick,\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory\n  } = _ref;\n  const currentSelection = selection.isSelected() ? selection.getSelectedRange().current() : null;\n  const selectedCorner = selection.isSelectedByCorner();\n  const selectedRow = selection.isSelectedByRowHeader();\n  selection.markSource('mouse');\n  if (isShiftKey && currentSelection) {\n    if (coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(coords);\n    } else if ((selectedCorner || selectedRow) && coords.row >= 0 && coords.col >= 0 && !controller.cell) {\n      selection.setRangeEnd(cellCoordsFactory(coords.row, coords.col));\n    } else if (selectedCorner && coords.row < 0 && !controller.column) {\n      selection.setRangeEnd(cellCoordsFactory(currentSelection.to.row, coords.col));\n    } else if (selectedRow && coords.col < 0 && !controller.row) {\n      selection.setRangeEnd(cellCoordsFactory(coords.row, currentSelection.to.col));\n    } else if ((!selectedCorner && !selectedRow && coords.col < 0 || selectedCorner && coords.col < 0) && !controller.row) {\n      selection.selectRows(Math.max(currentSelection.from.row, 0), coords.row, coords.col);\n    } else if ((!selectedCorner && !selectedRow && coords.row < 0 || selectedRow && coords.row < 0) && !controller.column) {\n      selection.selectColumns(Math.max(currentSelection.from.col, 0), coords.col, coords.row);\n    }\n  } else {\n    const allowRightClickSelection = !selection.inInSelection(coords);\n    const performSelection = isLeftClick || isRightClick && allowRightClickSelection;\n\n    // clicked row header and when some column was selected\n    if (coords.row < 0 && coords.col >= 0 && !controller.column) {\n      if (performSelection) {\n        selection.selectColumns(coords.col, coords.col, coords.row);\n      }\n\n      // clicked column header and when some row was selected\n    } else if (coords.col < 0 && coords.row >= 0 && !controller.row) {\n      if (performSelection) {\n        selection.selectRows(coords.row, coords.row, coords.col);\n      }\n    } else if (coords.col >= 0 && coords.row >= 0 && !controller.cell) {\n      if (performSelection) {\n        selection.setRangeStart(coords);\n      }\n    } else if (coords.col < 0 && coords.row < 0) {\n      selection.selectAll(true, true, {\n        disableHeadersHighlight: true,\n        focusPosition: {\n          row: 0,\n          col: 0\n        }\n      });\n    }\n  }\n  selection.markEndSource();\n}\n\n/**\n * MouseOver handler.\n *\n * @param {object} options The handler options.\n * @param {boolean} options.isLeftClick Indicates that event was fired using the left mouse button.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n * @param {Function} options.cellCoordsFactory The function factory for CellCoords objects.\n */\nexport function mouseOver(_ref2) {\n  let {\n    isLeftClick,\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory\n  } = _ref2;\n  if (!isLeftClick) {\n    return;\n  }\n  const selectedRow = selection.isSelectedByRowHeader();\n  const selectedColumn = selection.isSelectedByColumnHeader();\n  const countCols = selection.tableProps.countCols();\n  const countRows = selection.tableProps.countRows();\n  selection.markSource('mouse');\n  if (selectedColumn && !controller.column) {\n    selection.setRangeEnd(cellCoordsFactory(countRows - 1, coords.col));\n  } else if (selectedRow && !controller.row) {\n    selection.setRangeEnd(cellCoordsFactory(coords.row, countCols - 1));\n  } else if (!controller.cell) {\n    selection.setRangeEnd(coords);\n  }\n  selection.markEndSource();\n}\nconst handlers = new Map([['mousedown', mouseDown], ['mouseover', mouseOver], ['touchstart', mouseDown]]);\n\n/**\n * Mouse handler for selection functionality.\n *\n * @param {Event} event An native event to handle.\n * @param {object} options The handler options.\n * @param {CellRange} options.coords The CellCoords object with defined visual coordinates.\n * @param {Selection} options.selection The Selection class instance.\n * @param {object} options.controller An object with keys `row`, `column`, `cell` which indicate what\n *                                    operation will be performed in later selection stages.\n * @param {Function} options.cellCoordsFactory The function factory for CellCoords objects.\n */\nexport function handleMouseEvent(event, _ref3) {\n  let {\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory\n  } = _ref3;\n  handlers.get(event.type)({\n    coords,\n    selection,\n    controller,\n    cellCoordsFactory,\n    isShiftKey: event.shiftKey,\n    isLeftClick: isLeftClickEvent(event) || event.type === 'touchstart',\n    isRightClick: isRightClickEvent(event)\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}