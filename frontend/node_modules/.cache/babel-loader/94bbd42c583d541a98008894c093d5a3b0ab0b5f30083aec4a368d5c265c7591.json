{"ast":null,"code":"function _classPrivateFieldInitSpec(e, t, a) {\n  _checkPrivateRedeclaration(e, t), t.set(e, a);\n}\nfunction _checkPrivateRedeclaration(e, t) {\n  if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _classPrivateFieldGet(s, a) {\n  return s.get(_assertClassBrand(s, a));\n}\nfunction _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nimport { rangeEach } from \"../../../helpers/number.mjs\";\nimport { arrayEach } from \"../../../helpers/array.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nimport BaseUI from \"./_base.mjs\";\n/**\n * Class responsible for the Context Menu entries for the Nested Rows plugin.\n *\n * @private\n * @class ContextMenuUI\n * @augments BaseUI\n */\nvar _menuEntries = /*#__PURE__*/new WeakMap();\nclass ContextMenuUI extends BaseUI {\n  constructor() {\n    super(...arguments);\n    /**\n     * Reference to the DataManager instance connected with the Nested Rows plugin.\n     *\n     * @type {DataManager}\n     */\n    _defineProperty(this, \"dataManager\", this.plugin.dataManager);\n    _classPrivateFieldInitSpec(this, _menuEntries, {\n      row_above: (key, selection) => {\n        const lastSelection = selection[selection.length - 1];\n        this.dataManager.addSibling(lastSelection.start.row, 'above');\n      },\n      row_below: (key, selection) => {\n        const lastSelection = selection[selection.length - 1];\n        this.dataManager.addSibling(lastSelection.start.row, 'below');\n      }\n    });\n  }\n  /**\n   * Append options to the context menu. (Propagated from the `afterContextMenuDefaultOptions` hook callback)\n   * f.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu options.\n   * @returns {*}\n   */\n  appendOptions(defaultOptions) {\n    const newEntries = [{\n      key: 'add_child',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD);\n      },\n      callback: () => {\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]);\n        const parent = this.dataManager.getDataObject(translatedRowIndex);\n        this.dataManager.addChild(parent);\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        return !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      key: 'detach_from_parent',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD);\n      },\n      callback: () => {\n        this.dataManager.detachFromParent(this.hot.getSelectedLast());\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(selected[0]);\n        const parent = this.dataManager.getRowParent(translatedRowIndex);\n        return !parent || !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      name: '---------'\n    }];\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      if (i === 0) {\n        arrayEach(newEntries, (val, j) => {\n          defaultOptions.items.splice(i + j, 0, val);\n        });\n        return false;\n      }\n    });\n    return this.modifyRowInsertingOptions(defaultOptions);\n  }\n\n  /**\n   * Modify how the row inserting options work.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu items.\n   * @returns {*}\n   */\n  modifyRowInsertingOptions(defaultOptions) {\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      const option = _classPrivateFieldGet(_menuEntries, this)[defaultOptions.items[i].key];\n      if (option !== null && option !== undefined) {\n        defaultOptions.items[i].callback = option;\n      }\n    });\n    return defaultOptions;\n  }\n}\nexport default ContextMenuUI;","map":{"version":3,"names":["_classPrivateFieldInitSpec","e","t","a","_checkPrivateRedeclaration","set","has","TypeError","_defineProperty","r","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","String","Number","_classPrivateFieldGet","s","get","_assertClassBrand","n","arguments","length","rangeEach","arrayEach","C","BaseUI","_menuEntries","WeakMap","ContextMenuUI","constructor","plugin","dataManager","row_above","key","selection","lastSelection","addSibling","start","row","row_below","appendOptions","defaultOptions","newEntries","name","getTranslatedPhrase","CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD","callback","translatedRowIndex","translateTrimmedRow","hot","getSelectedLast","parent","getDataObject","addChild","disabled","selected","isSelectedByColumnHeader","countRows","getSettings","maxRows","CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD","detachFromParent","getRowParent","items","val","j","splice","modifyRowInsertingOptions","option","undefined"],"sources":["D:/gym-project/frontend/node_modules/handsontable/plugins/nestedRows/ui/contextMenu.mjs"],"sourcesContent":["import \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(e, t, a) { _checkPrivateRedeclaration(e, t), t.set(e, a); }\nfunction _checkPrivateRedeclaration(e, t) { if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _classPrivateFieldGet(s, a) { return s.get(_assertClassBrand(s, a)); }\nfunction _assertClassBrand(e, t, n) { if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n; throw new TypeError(\"Private element is not present on this object\"); }\nimport { rangeEach } from \"../../../helpers/number.mjs\";\nimport { arrayEach } from \"../../../helpers/array.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nimport BaseUI from \"./_base.mjs\";\n/**\n * Class responsible for the Context Menu entries for the Nested Rows plugin.\n *\n * @private\n * @class ContextMenuUI\n * @augments BaseUI\n */\nvar _menuEntries = /*#__PURE__*/new WeakMap();\nclass ContextMenuUI extends BaseUI {\n  constructor() {\n    super(...arguments);\n    /**\n     * Reference to the DataManager instance connected with the Nested Rows plugin.\n     *\n     * @type {DataManager}\n     */\n    _defineProperty(this, \"dataManager\", this.plugin.dataManager);\n    _classPrivateFieldInitSpec(this, _menuEntries, {\n      row_above: (key, selection) => {\n        const lastSelection = selection[selection.length - 1];\n        this.dataManager.addSibling(lastSelection.start.row, 'above');\n      },\n      row_below: (key, selection) => {\n        const lastSelection = selection[selection.length - 1];\n        this.dataManager.addSibling(lastSelection.start.row, 'below');\n      }\n    });\n  }\n  /**\n   * Append options to the context menu. (Propagated from the `afterContextMenuDefaultOptions` hook callback)\n   * f.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu options.\n   * @returns {*}\n   */\n  appendOptions(defaultOptions) {\n    const newEntries = [{\n      key: 'add_child',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD);\n      },\n      callback: () => {\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]);\n        const parent = this.dataManager.getDataObject(translatedRowIndex);\n        this.dataManager.addChild(parent);\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        return !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      key: 'detach_from_parent',\n      name() {\n        return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD);\n      },\n      callback: () => {\n        this.dataManager.detachFromParent(this.hot.getSelectedLast());\n      },\n      disabled: () => {\n        const selected = this.hot.getSelectedLast();\n        const translatedRowIndex = this.dataManager.translateTrimmedRow(selected[0]);\n        const parent = this.dataManager.getRowParent(translatedRowIndex);\n        return !parent || !selected || selected[0] < 0 || this.hot.selection.isSelectedByColumnHeader() || this.hot.countRows() >= this.hot.getSettings().maxRows;\n      }\n    }, {\n      name: '---------'\n    }];\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      if (i === 0) {\n        arrayEach(newEntries, (val, j) => {\n          defaultOptions.items.splice(i + j, 0, val);\n        });\n        return false;\n      }\n    });\n    return this.modifyRowInsertingOptions(defaultOptions);\n  }\n\n  /**\n   * Modify how the row inserting options work.\n   *\n   * @private\n   * @param {object} defaultOptions Default context menu items.\n   * @returns {*}\n   */\n  modifyRowInsertingOptions(defaultOptions) {\n    rangeEach(0, defaultOptions.items.length - 1, i => {\n      const option = _classPrivateFieldGet(_menuEntries, this)[defaultOptions.items[i].key];\n      if (option !== null && option !== undefined) {\n        defaultOptions.items[i].callback = option;\n      }\n    });\n    return defaultOptions;\n  }\n}\nexport default ContextMenuUI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}