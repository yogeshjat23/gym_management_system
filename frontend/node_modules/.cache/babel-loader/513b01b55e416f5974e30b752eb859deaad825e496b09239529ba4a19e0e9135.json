{"ast":null,"code":"/**\n * Utility to register editors and common namespace for keeping reference to all editor classes.\n */\nimport Hooks from \"../pluginHooks.mjs\";\nimport staticRegister from \"../utils/staticRegister.mjs\";\nconst registeredEditorClasses = new WeakMap();\nconst {\n  register,\n  getItem,\n  hasItem,\n  getNames,\n  getValues\n} = staticRegister('editors');\n\n/**\n * @param {BaseEditor} editorClass The editor constructor.\n */\nexport function RegisteredEditor(editorClass) {\n  const instances = {};\n  const Clazz = editorClass;\n  this.getConstructor = function () {\n    return editorClass;\n  };\n  this.getInstance = function (hotInstance) {\n    if (!(hotInstance.guid in instances)) {\n      instances[hotInstance.guid] = new Clazz(hotInstance);\n    }\n    return instances[hotInstance.guid];\n  };\n  Hooks.getSingleton().add('afterDestroy', function () {\n    instances[this.guid] = null;\n  });\n}\n\n/**\n * Returns instance (singleton) of editor class.\n *\n * @param {string} name Name of an editor under which it has been stored.\n * @param {object} hotInstance Instance of Handsontable.\n * @returns {Function} Returns instance of editor.\n */\nexport function _getEditorInstance(name, hotInstance) {\n  let editor;\n  if (typeof name === 'function') {\n    if (!registeredEditorClasses.get(name)) {\n      _register(null, name);\n    }\n    editor = registeredEditorClasses.get(name);\n  } else if (typeof name === 'string') {\n    editor = getItem(name);\n  } else {\n    throw Error('Only strings and functions can be passed as \"editor\" parameter');\n  }\n  if (!editor) {\n    throw Error(`No editor registered under name \"${name}\"`);\n  }\n  return editor.getInstance(hotInstance);\n}\n\n/**\n * Retrieve editor class.\n *\n * @param {string} name Editor identification.\n * @returns {Function} Returns editor class.\n */\nfunction _getItem(name) {\n  if (typeof name === 'function') {\n    return name;\n  }\n  if (!hasItem(name)) {\n    throw Error(`No registered editor found under \"${name}\" name`);\n  }\n  return getItem(name).getConstructor();\n}\n\n/**\n * Register editor class under specified name.\n *\n * @param {string} name Editor identification.\n * @param {Function} editorClass Editor class.\n */\nfunction _register(name, editorClass) {\n  if (name && typeof name !== 'string') {\n    editorClass = name;\n    name = editorClass.EDITOR_TYPE;\n  }\n  const editorWrapper = new RegisteredEditor(editorClass);\n  if (typeof name === 'string') {\n    register(name, editorWrapper);\n  }\n  registeredEditorClasses.set(editorClass, editorWrapper);\n}\nexport { _register as registerEditor, _getItem as getEditor, _getEditorInstance as getEditorInstance, hasItem as hasEditor, getNames as getRegisteredEditorNames, getValues as getRegisteredEditors };","map":{"version":3,"names":["Hooks","staticRegister","registeredEditorClasses","WeakMap","register","getItem","hasItem","getNames","getValues","RegisteredEditor","editorClass","instances","Clazz","getConstructor","getInstance","hotInstance","guid","getSingleton","add","_getEditorInstance","name","editor","get","_register","Error","_getItem","EDITOR_TYPE","editorWrapper","set","registerEditor","getEditor","getEditorInstance","hasEditor","getRegisteredEditorNames","getRegisteredEditors"],"sources":["D:/gym-project/frontend/node_modules/handsontable/editors/registry.mjs"],"sourcesContent":["import \"core-js/modules/es.error.cause.js\";\n/**\n * Utility to register editors and common namespace for keeping reference to all editor classes.\n */\nimport Hooks from \"../pluginHooks.mjs\";\nimport staticRegister from \"../utils/staticRegister.mjs\";\nconst registeredEditorClasses = new WeakMap();\nconst {\n  register,\n  getItem,\n  hasItem,\n  getNames,\n  getValues\n} = staticRegister('editors');\n\n/**\n * @param {BaseEditor} editorClass The editor constructor.\n */\nexport function RegisteredEditor(editorClass) {\n  const instances = {};\n  const Clazz = editorClass;\n  this.getConstructor = function () {\n    return editorClass;\n  };\n  this.getInstance = function (hotInstance) {\n    if (!(hotInstance.guid in instances)) {\n      instances[hotInstance.guid] = new Clazz(hotInstance);\n    }\n    return instances[hotInstance.guid];\n  };\n  Hooks.getSingleton().add('afterDestroy', function () {\n    instances[this.guid] = null;\n  });\n}\n\n/**\n * Returns instance (singleton) of editor class.\n *\n * @param {string} name Name of an editor under which it has been stored.\n * @param {object} hotInstance Instance of Handsontable.\n * @returns {Function} Returns instance of editor.\n */\nexport function _getEditorInstance(name, hotInstance) {\n  let editor;\n  if (typeof name === 'function') {\n    if (!registeredEditorClasses.get(name)) {\n      _register(null, name);\n    }\n    editor = registeredEditorClasses.get(name);\n  } else if (typeof name === 'string') {\n    editor = getItem(name);\n  } else {\n    throw Error('Only strings and functions can be passed as \"editor\" parameter');\n  }\n  if (!editor) {\n    throw Error(`No editor registered under name \"${name}\"`);\n  }\n  return editor.getInstance(hotInstance);\n}\n\n/**\n * Retrieve editor class.\n *\n * @param {string} name Editor identification.\n * @returns {Function} Returns editor class.\n */\nfunction _getItem(name) {\n  if (typeof name === 'function') {\n    return name;\n  }\n  if (!hasItem(name)) {\n    throw Error(`No registered editor found under \"${name}\" name`);\n  }\n  return getItem(name).getConstructor();\n}\n\n/**\n * Register editor class under specified name.\n *\n * @param {string} name Editor identification.\n * @param {Function} editorClass Editor class.\n */\nfunction _register(name, editorClass) {\n  if (name && typeof name !== 'string') {\n    editorClass = name;\n    name = editorClass.EDITOR_TYPE;\n  }\n  const editorWrapper = new RegisteredEditor(editorClass);\n  if (typeof name === 'string') {\n    register(name, editorWrapper);\n  }\n  registeredEditorClasses.set(editorClass, editorWrapper);\n}\nexport { _register as registerEditor, _getItem as getEditor, _getEditorInstance as getEditorInstance, hasItem as hasEditor, getNames as getRegisteredEditorNames, getValues as getRegisteredEditors };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}